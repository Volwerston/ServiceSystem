
@{
    ViewBag.Title = "ApplicationForm";
    Layout = "~/Views/Shared/_Layout.cshtml";
}



<div class="row">
    <div class="col-xs-5 col-sm-5 col-lg-5 col-md-5 col-sm-offset-4 col-md-offset-4 col-lg-offset-4">
        @using (Html.BeginForm())
        {
            <div class="well form-horizontal" id="applicationContainer">
                <input type="hidden" name="serviceId" value="@ViewData["SERVICE_ID"]" />

                <div id="fromSomeDate">

                </div>
                <div id="byLastDate">

                </div>
            </div>
        }
    </div>
</div>

@section scripts{
    
    <script type="text/javascript">

        $(document).ready(function () {

            var toAppend = '@ViewData["LAYOUT"].ToString()';

            toAppend = toAppend.replace(/&quot;/g, "\"");
            toAppend = toAppend.replace(/&lt;/g, "<");
            toAppend = toAppend.replace(/&gt;/g, ">");

            $("#applicationContainer").prepend(toAppend);


            $('input[name="deadlineType"]').change(function () {

                if ($(this).val() == "fromSomeDate") {

                    $("#byLastDate").empty();

                    var toAddBlock = '@ViewData["FROM_SOME_DATE"].ToString()';

                    toAddBlock = toAddBlock.replace(/&quot;/g, "\"");
                    toAddBlock = toAddBlock.replace(/&lt;/g, "<");
                    toAddBlock = toAddBlock.replace(/&gt;/g, ">");

                    $("#fromSomeDate").html(toAddBlock);

                }
                else
                {
                    $("#fromSomeDate").empty();

                    var toAddBlock = '@ViewData["BY_LAST_DATE"].ToString()';

                    toAddBlock = toAddBlock.replace(/&quot;/g, "\"");
                    toAddBlock = toAddBlock.replace(/&lt;/g, "<");
                    toAddBlock = toAddBlock.replace(/&gt;/g, ">");

                    $("#byLastDate").html(toAddBlock);
                }
            });
        });

    </script>
    }